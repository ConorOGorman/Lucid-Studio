import { type NodeEndpoint, type Remote, type IsomorphicMessagePort } from './comlink-sync';
export type WithAPIState = {
    /**
     * Resolves to true when the remote API is ready for
     * Comlink communication, but not necessarily fully initialized yet.
     */
    isConnected: () => Promise<void>;
    /**
     * Resolves to true when the remote API is declares it's
     * fully loaded and ready to be used.
     */
    isReady: () => Promise<void>;
};
export type RemoteAPI<T> = Remote<T> & WithAPIState;
export declare function consumeAPISync<APIType>(remote: IsomorphicMessagePort): Promise<APIType>;
export declare function consumeAPI<APIType>(remote: Worker | Window | NodeEndpoint, context?: undefined | EventTarget): RemoteAPI<APIType>;
export type PublicAPI<Methods, PipedAPI = unknown> = RemoteAPI<Methods & PipedAPI>;
export declare function exposeAPI<Methods, PipedAPI>(apiMethods?: Methods, pipedApi?: PipedAPI, targetWorker?: NodeEndpoint): [() => void, (e: Error) => void, PublicAPI<Methods, PipedAPI>];
export declare function exposeSyncAPI<Methods>(apiMethods: Methods, port: IsomorphicMessagePort): Promise<[() => void, (e: Error) => void, Methods]>;
